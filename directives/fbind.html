<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.staticfile.org/vue/2.6.10/vue.js"></script>
    <title>自定义指令</title>
</head>
<body>
    <div id="app">
        <p>{{ n }}</p>
        <button @click="n++">点我+1</button>
        <input type="text" v-fbind="n">
    </div>

    <script>
        var vm  = new Vue({
            el: "#app",
            data: {
                n: 1
            },
            directives: {
                fbind: {
                    bind(el,binding){
                        el.value = binding.value
                    },
                    inserted(el){
                        el.focus()
                    },
                    update(el,binding){
                        el.value = binding.value
                    }
                }
            }
        })
        // binding包含的值:
        //     `name`：指令名，不包括 v- 前缀。
        //     `value`：指令的绑定值，例如：v-my-directive="1 + 1" 中，绑定值为 2。
        //     `oldValue`：指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。
        //     `expression`：字符串形式的指令表达式。例如 v-my-directive="1 + 1" 中，表达式为 "1 + 1"。
        //     `arg`：传给指令的参数，可选。例如 v-my-directive:foo 中，参数为 "foo"。
        //     `modifiers`：一个包含修饰符的对象。例如：v-my-directive.foo.bar 中，修饰符对象为 { foo: true, bar: true }
        //     `vnode`：Vue 编译生成的虚拟节点
        //     `oldVnode`：上一个虚拟节点，仅在 update 和 componentUpdated 钩子中可用
        </script>

</body>
</html>